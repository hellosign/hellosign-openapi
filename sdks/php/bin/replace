#!/usr/bin/env bash

set -e

DIR=$(cd `dirname $0` && pwd)
ROOT_DIR="${DIR}/.."

perl -pi -e 's/(.*)AllOf.md\)\n//g' "${ROOT_DIR}/README.md"

printf "Replacing FQDN from our namespaces ...\n"
perl -pi -e 's#@param \\HelloSign\\#@param #g' \
  "${ROOT_DIR}/src/Api/"*.php
perl -pi -e 's#@param \\HelloSign\\Model\\#@param #g' \
  "${ROOT_DIR}/src/Model/"*.php
perl -pi -e 's#@return Model\\(.*)\|\\HelloSign\\Model\\ErrorResponse#@return Model\\$1#g' \
  "${ROOT_DIR}/src/Api/"*.php
perl -pi -e 's#@return SplFileObject\|\\HelloSign\\Model\\ErrorResponse#@return SplFileObject#g' \
  "${ROOT_DIR}/src/Api/"*.php
printf "\n"
