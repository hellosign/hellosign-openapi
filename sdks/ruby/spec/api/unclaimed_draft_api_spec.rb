=begin
#Dropbox Sign API

#Dropbox Sign v3 API

The version of the OpenAPI document: 3.0.0
Contact: apisupport@hellosign.com
Generated by: https://openapi-generator.tech
OpenAPI Generator version: 5.3.0

=end

require 'spec_helper'
require 'json_spec'
require_relative '../test_utils'

root_file_path = __dir__ + "/../../test_fixtures"

describe Dropbox::Sign::UnclaimedDraftApi do
  context 'UnclaimedDraftApiTest' do
    api = Dropbox::Sign::UnclaimedDraftApi.new

    it 'testUnclaimedDraftCreate' do
      request_class = 'UnclaimedDraftCreateRequest'
      request_data = get_fixture_data(request_class)[:default]

      response_class = 'UnclaimedDraftCreateResponse'
      response_data = get_fixture_data(response_class)[:default]

      set_expected_response(200, JSON.dump(response_data))
      expected = Dropbox::Sign::UnclaimedDraftCreateResponse.init(response_data)
      obj = Dropbox::Sign::UnclaimedDraftCreateRequest.init(request_data)

      result = api.unclaimed_draft_create(obj)

      expect(result.class.to_s).to eq("Dropbox::Sign::#{response_class}")
      expect(result.to_json).to be_json_eql(JSON.dump(expected))
    end

    it 'testUnclaimedDraftCreateEmbedded' do
      request_class = 'UnclaimedDraftCreateEmbeddedRequest'
      request_data = get_fixture_data(request_class)[:default]

      response_class = 'UnclaimedDraftCreateResponse'
      response_data = get_fixture_data(response_class)[:default]

      set_expected_response(200, JSON.dump(response_data))
      expected = Dropbox::Sign::UnclaimedDraftCreateResponse.init(response_data)
      obj = Dropbox::Sign::UnclaimedDraftCreateEmbeddedRequest.init(request_data)
      obj.files = [File.new("#{root_file_path}/pdf-sample.pdf", "r")]

      result = api.unclaimed_draft_create_embedded(obj)

      expect(result.class.to_s).to eq("Dropbox::Sign::#{response_class}")
      expect(result.to_json).to be_json_eql(JSON.dump(expected))
    end

    it 'testUnclaimedDraftCreateEmbeddedWithTemplate' do
      request_class = 'UnclaimedDraftCreateEmbeddedWithTemplateRequest'
      request_data = get_fixture_data(request_class)[:default]

      response_class = 'UnclaimedDraftCreateResponse'
      response_data = get_fixture_data(response_class)[:default]

      set_expected_response(200, JSON.dump(response_data))
      expected = Dropbox::Sign::UnclaimedDraftCreateResponse.init(response_data)
      obj = Dropbox::Sign::UnclaimedDraftCreateEmbeddedWithTemplateRequest.init(request_data)
      obj.files = [File.new("#{root_file_path}/pdf-sample.pdf", "r")]

      result = api.unclaimed_draft_create_embedded_with_template(obj)

      expect(result.class.to_s).to eq("Dropbox::Sign::#{response_class}")
      expect(result.to_json).to be_json_eql(JSON.dump(expected))
    end

    it 'testUnclaimedDraftEditAndResend' do
      signature_request_id = '2f9781e1a83jdja934d808c153c2e1d3df6f8f2f'

      request_class = 'UnclaimedDraftEditAndResendRequest'
      request_data = get_fixture_data(request_class)[:default]

      response_class = 'UnclaimedDraftCreateResponse'
      response_data = get_fixture_data(response_class)[:default]

      set_expected_response(200, JSON.dump(response_data))
      expected = Dropbox::Sign::UnclaimedDraftCreateResponse.init(response_data)
      obj = Dropbox::Sign::UnclaimedDraftEditAndResendRequest.init(request_data)

      result = api.unclaimed_draft_edit_and_resend(signature_request_id, obj)

      expect(result.class.to_s).to eq("Dropbox::Sign::#{response_class}")
      expect(result.to_json).to be_json_eql(JSON.dump(expected))
    end
  end
end
